# ─── Database ────────────────────────────────────────────────────────
# For docker-compose: postgresql://revback:revback_secret@postgres:5432/revback
# For local dev:      postgresql://localhost:5432/revback
DATABASE_URL=postgresql://revback:revback_secret@localhost:5432/revback

# ─── Redis (for BullMQ job queue) ────────────────────────────────────
# For docker-compose: redis://redis:6379
# For local dev:      redis://localhost:6379
REDIS_URL=redis://localhost:6379

# ─── Server ──────────────────────────────────────────────────────────
PORT=3000
NODE_ENV=development
ALLOWED_ORIGINS=http://localhost:5173

# ─── Stripe ──────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ─── Apple App Store ─────────────────────────────────────────────────
APPLE_KEY_ID=
APPLE_ISSUER_ID=
APPLE_BUNDLE_ID=
APPLE_PRIVATE_KEY_PATH=./keys/apple_private_key.p8
APPLE_ENVIRONMENT=sandbox

# ─── Recurly ────────────────────────────────────────────────────────
# Not required — credentials come via onboarding API (POST /setup/recurly)
# RECURLY_API_KEY=
# RECURLY_SUBDOMAIN=mycompany
# RECURLY_WEBHOOK_KEY=

# ─── Auth ────────────────────────────────────────────────────────────
JWT_SECRET=change-me-in-production-min-16-chars
API_KEY_SALT=change-me-in-production-min-16-chars

# ─── Logging ─────────────────────────────────────────────────────────
LOG_LEVEL=info

# ─── SMTP (optional — email alerts only work if configured) ─────────
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=alerts@revback.io

# ─── Dashboard URL (for "View in Dashboard" links in alerts) ────────
DASHBOARD_URL=http://localhost:5173

# ─── AI / Anthropic (optional — AI investigation features) ─────────
# If not set, AI features are disabled and return fallback messages.
ANTHROPIC_API_KEY=sk-ant-api03-...
AI_MODEL=claude-sonnet-4-5-20250929

# ─── Slack CX Bot (optional — Slack bot for internal CX team) ────────
# Create a Slack app at https://api.slack.com/apps
# Required: Bot Token Scopes: chat:write, app_mentions:read
SLACK_BOT_TOKEN=xoxb-...
SLACK_SIGNING_SECRET=
SLACK_CX_CHANNEL_ID=C0123456789
# Comma-separated Slack user IDs allowed to use CX commands
SLACK_CX_USER_IDS=U0123456789,U9876543210

# ─── Scheduled Scans ──────────────────────────────────────────────────
# Set to 'false' to disable all scheduled scan cron jobs
ENABLE_SCHEDULED_SCANS=true
